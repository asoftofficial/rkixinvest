@extends('users.layouts.default')
@section('page-title')
Deposit
@endsection
@push('style')
@endpush
@push('script')
<script src = "https://unpkg.com/sweetalert/dist/sweetalert.min.js" > </script>
<script>
    $('.ammount').on('change', function(e) {

            var ammount = parseInt($(this).val());
            var id = $(this).attr('data-id');
            var page_charge = parseFloat($(this).attr('data-page-charge'));
            var fixed_charge= parseInt($(this).attr('data-fixed-charge'));
            var totalCharge = ((ammount/100) * page_charge) + fixed_charge;
            var total_ammount =  totalCharge + ammount;
            $("#ammount-"+id).text(ammount);
            $("#charge-"+id).text(totalCharge);
            $("#total-"+id).text(total_ammount);
            $("#ammountDiv-"+id).hide();
            $("#table-div-"+id).show();
    });
    </script>

@endpush
@section('content')
<div class = "container-fluid">

{{-- Page Section Title Area    --}}
<section class = "page-section-title-area" > <div>
    <h2>Deposit List</h2>
    <p>All Investment Packages</p>
</div>
</section>
{{-- End Page Section Title Area    --}}
<div class="packages">
    @if(!empty($paymentMethods))
        @foreach($paymentMethods as $method)
       <div class="table basic">
           <div class="price-section">
               <div class="price-area">
                   <div class="inner-area" style="background-image: url('{{ getImage(imagePath()['withdraw']['method']['path'].'/'. $method->image,imagePath()['withdraw']['method']['size'])}}'); background-size:cover;">

                   </div>
               </div>
           </div>
           <div class="package-name">
                <span>{{ $method->name }}</span>
           </div>
           <div class="features">
               <li>
                   <span class="list-name">Min Deposit</span>
                   <span class="icon check">{{ showAmount($method->min_limit)}} {{ $method->currency }}</span>
               </li>
               <li>
                   <span class="list-name">Max Deposit </span>
                   <span class="icon check"> {{ showAmount($method->max_limit)}} {{ $method->currency }}</span>
               </li>
               <li>
                <span class="list-name">Charge </span>
                <span class="icon check">{{ showAmount($method->fixed_charge)}} {{__($settings->cur_text) }} {{ (0 < $method->percent_charge) ? ' + '. showAmount($method->percent_charge) .' %' : '' }}</span>
            </li>
               <button class="btn btn-info blue-bg round-10 invest"  data-toggle="modal" data-target="#investModal{{ $method->id }}" >Deposit Now</button>
           </div>
       </div>

    @endforeach
    @endif
   </div>
</div>
<!-- /.container-fluid -->

{{-- Add package Model  --}}
@include('users.deposit.modals.invest')
{{-- End Add package Model  --}}
@endsection
